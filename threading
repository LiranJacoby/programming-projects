import threading   
count = 0
lock = threading.Lock()  #יוצר מנעול כדי למנוע משני הת'ראדים לשנות את ערכו של הקאונט באותו הזמן או לעשות כל פעולה כלשהי באותו הזמן

def MyThread1():
    global count             #מצהיר שנשתמש בתוך הפונקציה במשתנה גלובלי שלא נוצר בתוך הפונקציה
    for _ in range(1000):
        with lock:          #מקטע המוגן על ידי המנעול, רק ת'ראד אחד יכול להיות כאן באותו הזמן
            count += 1

def MyThread2():
    global count             
    for _ in range(1000):
        with lock:
            count -= 1

t1 = threading.Thread(target=MyThread1)     #יוצר תהליכון חדש שמריץ את הפונקציה
t2 = threading.Thread(target=MyThread2)
t1.start()                                  #מפעיל את התהליכון - מתחיל להריץ את ת'ראד אחד ברקע
t2.start()
t1.join()                    # שורת ביקורת המחכה שהת'ראד יסיים את פעולתו ולא ממשיכה לשורת הקוד הבאה עד שמסיים
t2.join()

print(count)  # always 0
